datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model ItineraryItem {
  id          Int       @id @default(autoincrement())
  order       Int
  title       String
  description String?
  startTime   DateTime?
  endTime     DateTime?
  address     String?
  reservation Json
  itineraryId Int // Foreign key relationship with Intinerary
  itinerary   Itinerary @relation(fields: [itineraryId], references: [id])
  tags        String[]
  coverImgId  Int
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

model Itinerary {
  id        Int             @id @default(autoincrement())
  date      DateTime
  items     ItineraryItem[]
  createdAt DateTime        @default(now())
  updatedAt DateTime        @updatedAt
  checkList Json?
  tripId    Int
  trip      Trip            @relation(fields: [tripId], references: [id])
}

model Trip {
  id          Int         @id @default(autoincrement())
  title       String
  startDate   DateTime
  endDate     DateTime
  destination String
  items       Itinerary[]
  coverImgId  Int
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
}
